(this["webpackJsonpcollective-deck"]=this["webpackJsonpcollective-deck"]||[]).push([[0],{32:function(t,e,a){t.exports={card:"Cardlink_card__kqvrS",cardBody:"Cardlink_cardBody__2zP-I",cardFooter:"Cardlink_cardFooter__1Drrz",cardLinkBtn:"Cardlink_cardLinkBtn__1I-rx",cardCost:"Cardlink_cardCost__9fgYy",cardCountBtns:"Cardlink_cardCountBtns__1yAAx",cardCount:"Cardlink_cardCount__3SyXs"}},47:function(t,e,a){t.exports={cardFrame:"SearchCardFrame_cardFrame__fJUNt",emptyFrame:"SearchCardFrame_emptyFrame__3oGYL",cardSize:"SearchCardFrame_cardSize__fNF6b",cardName:"SearchCardFrame_cardName__2V1Bk",cardInput:"SearchCardFrame_cardInput__2JMfB"}},67:function(t,e,a){t.exports={loader:"LoadingScreen_loader__1PuNx",spinner:"LoadingScreen_spinner__OPH9S"}},71:function(t,e,a){t.exports={cardImg:"CardImage_cardImg__1qtCq"}},72:function(t,e,a){t.exports={deckviewContainer:"DeckView_deckviewContainer__1nTUh"}},78:function(t,e,a){t.exports={simpleInput:"SearchListForm_simpleInput__1DF2C",advancedSearch:"SearchListForm_advancedSearch__1o6vs"}},87:function(t,e,a){},94:function(t,e,a){},98:function(t,e,a){},99:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),i=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,114)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,s=e.getTTFB;a(t),n(t),r(t),c(t),s(t)}))},o=(a(85),a(2)),d=a(27),l=a.n(d),u=a(41),h=a(8),p=a(15),b=a(9),j=a(10),f=a(13),O=a(12),g=(a(87),a(11)),m=a(107),v=a(75),x=a(36),y=a(113),C=a(70),k=a(32),A=a.n(k),S=a(57),_=a(1),L=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(j.a)(a,[{key:"get_rgba",value:function(t){var e;switch(t){case"None":e="rgba(211,211,211,1)";break;case"Mind":e="rgba(97,180,217, 1)";break;case"Strength":e="rgba(246,156,153, 1)";break;case"Spirit":e="rgba(148,227,142, 1)";break;default:e="rgba(1,1,1,1)"}return e}},{key:"render",value:function(){var t=this;return Object(_.jsx)(x.b,{draggableId:this.props.dragSuffix+"drag_id_"+this.props.index,index:this.props.index,children:function(e){return Object(_.jsxs)("div",Object(o.a)(Object(o.a)(Object(o.a)({},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:[Object(_.jsxs)(y.a,{className:"bg-collective affinity-"+t.props.card.affinity+" "+A.a.card,"data-tip":!0,"data-for":"card-tooltip-"+t.props.card.id,style:{background:"linear-gradient(103deg, "+t.get_rgba(t.props.card.affinity)+" 0%, \n                                                        "+t.get_rgba(t.props.card.affinity)+" 42%, \n                                                        rgba(255,255,255,0) 50%, \n                                                        rgba(255,255,255,0) 80%, \n                                                        "+t.get_rgba(t.props.card.affinity)+" 90%, \n                                                        "+t.get_rgba(t.props.card.affinity)+" 100%),\n                                url(".concat(t.props.card.img,") right 3rem center/50% no-repeat\n                                ")},children:[Object(_.jsxs)(y.a.Body,{class:A.a.cardBody,children:[Object(_.jsx)("div",{className:A.a.cardCost,children:t.props.card.cost}),Object(_.jsx)("div",{children:t.props.card.name}),t.props.amountActions&&Object(_.jsxs)("div",{className:A.a.cardCountBtns,children:[Object(_.jsx)("div",{className:A.a.cardCount,children:t.props.card.amount}),Object(_.jsx)(C.a,{variant:"success",className:A.a.cardLinkBtn,onClick:function(){return t.props.amountActions.add(t.props.index)},children:"+"}),Object(_.jsx)(C.a,{variant:"danger",className:A.a.cardLinkBtn,onClick:function(){return t.props.amountActions.remove(t.props.index)},children:"-"})]})]}),Object(_.jsx)(y.a.Footer,{class:A.a.cardFooter,children:Object(_.jsx)("a",{href:t.props.card.link,target:"_blank",rel:"noreferrer",children:t.props.card.id})})]}),Object(_.jsx)(S.a,{id:"card-tooltip-"+t.props.card.id,place:"bottom",backgroundColor:"none",className:"opaque",children:Object(_.jsx)("img",{src:t.props.card.link,alt:"card-tooltip",width:"300px"})})]}))}})}}]),a}(r.a.Component),I=L,N=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var t=this;return Object(_.jsx)(x.c,{droppableId:"decklist_drop_id",children:function(e){return Object(_.jsxs)("div",Object(o.a)(Object(o.a)({ref:e.innerRef},e.droppableProps),{},{style:{marginBottom:"10rem"},children:[t.props.cards.map((function(e,a){return Object(_.jsx)(I,{card:e,index:a,dragSuffix:"view_",amountActions:t.props.amountActions},a)})),e.placeholder]}))}})}}]),a}(r.a.Component),w=N,T=a(50),B=a(17),P=(a(94),function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).state={card_input:""},n.onHandleChange=n.onHandleChange.bind(Object(B.a)(n)),n.onHandleSubmit=n.onHandleSubmit.bind(Object(B.a)(n)),n}return Object(j.a)(a,[{key:"onHandleChange",value:function(t){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{card_input:t.target.value}))}},{key:"onHandleSubmit",value:function(t){t.preventDefault(),this.props.addCardAction(this.state.card_input),this.setState({card_input:""})}},{key:"render",value:function(){return Object(_.jsxs)("div",{children:[Object(_.jsx)("textarea",{rows:3,placeholder:"Card links go here...",value:this.state.card_input,onChange:this.onHandleChange}),Object(_.jsx)(C.a,{variant:"secondary",onClick:this.onHandleSubmit,children:"Add Card(s)!"})]})}}]),a}(r.a.Component)),F=a(71),z=a.n(F),D=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(_.jsxs)("a",{href:this.props.card.link,target:"_blank",rel:"noreferrer",className:z.a.cardImg,style:{backgroundImage:"url(".concat(this.props.card.img,")")},"data-tip":!0,"data-for":"card-tooltip-"+this.props.card.id,children:[Object(_.jsx)("p",{children:this.props.card.name}),Object(_.jsx)(S.a,{id:"card-tooltip-"+this.props.card.id,place:"bottom",backgroundColor:"none",className:"opaque",children:Object(_.jsx)("img",{src:this.props.card.link,alt:"card-tooltip",width:"300px"})})]})}}]),a}(r.a.Component),M=D,R=a(72),H=a.n(R),q=(r.a.Component,a(109)),V=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(_.jsxs)("div",{className:"page-bottom",children:[Object(_.jsx)(C.a,{variant:"secondary",onClick:this.props.optionActions.clear,children:"Clear"}),Object(_.jsxs)(q.a,{children:[Object(_.jsx)(q.a.Toggle,{variant:"secondary",id:"dropdown-basic",children:"Export As"}),Object(_.jsxs)(q.a.Menu,{children:[Object(_.jsx)(q.a.Item,{href:"",onClick:this.props.optionActions.exportToText,children:"Text"}),Object(_.jsx)(q.a.Item,{href:"",children:"~~SOON~~ Link ~~SOON~~"})]})]}),Object(_.jsxs)(q.a,{children:[Object(_.jsx)(q.a.Toggle,{variant:"secondary",id:"dropdown-basic",children:"Sort By"}),Object(_.jsxs)(q.a.Menu,{children:[Object(_.jsx)(q.a.Item,{href:"",onClick:this.props.optionActions.sortByCost,children:"Cost"}),Object(_.jsx)(q.a.Item,{href:"",onClick:this.props.optionActions.sortByName,children:"Name"}),Object(_.jsx)(q.a.Item,{href:"",onClick:this.props.optionActions.sortByAffinity,children:"Affinity"})]})]})]})}}]),a}(r.a.Component),X=V;function E(){return(E=Object(u.a)(l.a.mark((function t(){var e,a,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://server.collective.gg/api/public/leaderboards");case 2:return t.next=4,t.sent.json();case 4:for(r in e=t.sent,a=e.multi[Math.floor(Math.random()*e.multi.length)],n="",a.cards)n+=a.cards[r]+" "+r+"\n";return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var U=function(){return E.apply(this,arguments)};var W=function(t){return Object(_.jsxs)("div",{children:[Object(_.jsx)(C.a,{variant:"secondary",onClick:function(){U().then((function(e){return t.addCardAction(e)}))},children:"See a random deck from Ladder!"}),Object(_.jsx)("p",{className:"App",children:"OR"})]})},G=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(_.jsx)(T.a,{className:"pt-5",children:Object(_.jsxs)(m.a,{children:[Object(_.jsxs)(v.a,{md:5,children:[this.props.cards.length<=0&&Object(_.jsx)(W,{addCardAction:this.props.addCardAction}),this.props.cards.length>0&&Object(_.jsx)("div",{children:this.props.cards.reduce((function(t,e){return t+e.amount}),0)}),Object(_.jsx)(P,{addCardAction:this.props.addCardAction}),this.props.cards.length>0&&Object(_.jsx)(X,{optionActions:this.props.optionActions})]}),Object(_.jsx)(v.a,{md:5,children:Object(_.jsx)(w,{cards:this.props.cards,amountActions:this.props.amountActions,addCardAction:this.props.addCardAction})})]})})}}]),a}(r.a.Component),J=G,Y=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(_.jsx)("div",{className:"App",children:"Under construction..."})}}]),a}(r.a.Component),K=Y,Q=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(_.jsxs)("div",{className:"App",children:["Hi! I'm Sevas. I made this. ",Object(_.jsx)("br",{}),"Thanks to the Collective Community for keeping this game alive, this couldn't be a thing without others to serve. ",Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),"If you really want to show me gratitude ask me out on a date or buy me a coffee."]})}}]),a}(r.a.Component),Z=Q,$=a(110),tt=a(112),et=a(31),at=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)($.a,{bg:"light",expand:"lg",children:Object(_.jsxs)(T.a,{children:[Object(_.jsx)($.a.Brand,{as:et.b,to:"/collective-deck/",children:"Collective Deck"}),Object(_.jsx)($.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(_.jsx)($.a.Collapse,{id:"basic-navbar-nav",children:Object(_.jsxs)(tt.a,{className:"me-auto",children:[Object(_.jsx)(tt.a.Link,{as:et.b,to:"/collective-deck/",children:"View"}),Object(_.jsx)(tt.a.Link,{as:et.b,to:"/collective-deck/build",children:"Build"}),Object(_.jsx)(tt.a.Link,{as:et.b,to:"/collective-deck/analyse",children:"Analyse"}),Object(_.jsx)(tt.a.Link,{as:et.b,to:"/collective-deck/credits",children:"Credits"})]})})]})})})}}]),a}(r.a.Component),nt=at,rt=a(47),ct=a.n(rt),st=a.p+"static/media/empty_cardframe.1de7c358.png",it=a(111),ot=(r.a.Component,a(77)),dt=a.n(ot),lt=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).cardsPerPage=10,n.changePage=function(t){var e=t.selected;console.log(e);var a=e*n.cardsPerPage;n.setState({pageNumber:e,pagesVisited:a})},n.state={pageNumber:0,pagesVisited:0},n.changePage=n.changePage.bind(Object(B.a)(n)),n}return Object(j.a)(a,[{key:"updatePageVisited",value:function(){var t=this.state.pageNumber*this.cardsPerPage,e=this.state.pageNumber;this.setState({pageNumber:e,pagesVisited:t})}},{key:"render",value:function(){var t=this;return Object(_.jsxs)("div",{children:[Object(_.jsx)(x.c,{droppableId:"searchlist_drop_id",children:function(e){return Object(_.jsxs)("div",Object(o.a)(Object(o.a)({ref:e.innerRef},e.droppableProps),{},{style:{marginBottom:"1rem"},children:[t.props.cards.slice(t.state.pagesVisited,t.state.pagesVisited+t.cardsPerPage).map((function(t,e){return Object(_.jsx)(I,{card:t,index:e,dragSuffix:"build_"},e)})),e.placeholder]}))}}),Object(_.jsx)(dt.a,{previousLabel:"<",nextLabel:">",pageCount:Math.ceil(this.props.cards.length/this.cardsPerPage),onPageChange:this.changePage,pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active"})]})}}]),a}(r.a.Component),ut=a(78),ht=a.n(ut),pt=a(76),bt=a(79),jt=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).state={advanced_active:!1,simple_input:"",format:"Legacy",affinity:"",atk:"",hp:"",tribe:"",realm:"",artist:"",creator:"",rarity:"",type:"",cost:""},n.onSimpleInputChange=n.onSimpleInputChange.bind(Object(B.a)(n)),n.resetSearchOptions=n.resetSearchOptions.bind(Object(B.a)(n)),n.lockAdvancedSearch=n.lockAdvancedSearch.bind(Object(B.a)(n)),n.onFormatChange=n.onFormatChange.bind(Object(B.a)(n)),n.onTribeChange=n.onTribeChange.bind(Object(B.a)(n)),n.onRealmChange=n.onRealmChange.bind(Object(B.a)(n)),n.onArtistChange=n.onArtistChange.bind(Object(B.a)(n)),n.onCreatorChange=n.onCreatorChange.bind(Object(B.a)(n)),n.onAffinityChange=n.onAffinityChange.bind(Object(B.a)(n)),n.onAtkChange=n.onAtkChange.bind(Object(B.a)(n)),n.onHpChange=n.onHpChange.bind(Object(B.a)(n)),n.onRarityChange=n.onRarityChange.bind(Object(B.a)(n)),n.onTypeChange=n.onTypeChange.bind(Object(B.a)(n)),n.onCostChange=n.onCostChange.bind(Object(B.a)(n)),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.resetSearchOptions()}},{key:"onSimpleInputChange",value:function(t){this.setState({simple_input:t.target.value}),this.search()}},{key:"search",value:function(){this.props.searchAction(this.state)}},{key:"lockAdvancedSearch",value:function(){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{advanced_active:!this.state.advanced_active}))}},{key:"resetSearchOptions",value:function(){var t=this;this.setState({simple_input:"",format:"Legacy",affinity:"",tribe:"",realm:"",artist:"",creator:""},(function(){return t.search()}))}},{key:"onFormatChange",value:function(t,e){var a=this;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{format:e.target.dataset.format}),(function(){return a.search()}))}},{key:"onAffinityChange",value:function(t,e){var a=this;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{affinity:e.target.dataset.affinity}),(function(){return a.search()}))}},{key:"getAffinityList",value:function(){var t=[""];return this.props.cards.map((function(e){return t.push(e.affinity)})),Object(p.a)(new Set(t)).sort()}},{key:"onTribeChange",value:function(t,e){var a=this;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{tribe:e.target.dataset.tribe}),(function(){return a.search()}))}},{key:"getTribeList",value:function(){var t=[""];return this.props.cards.map((function(e){return t.push.apply(t,Object(p.a)(e.tribe.split(" ")))})),Object(p.a)(new Set(t)).sort()}},{key:"onRealmChange",value:function(t,e){var a=this;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{realm:e.target.dataset.realm}),(function(){return a.search()}))}},{key:"getRealmList",value:function(){var t=[""];return this.props.cards.map((function(e){return t.push(e.realm)})),Object(p.a)(new Set(t)).sort()}},{key:"onRarityChange",value:function(t,e){var a=this;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{rarity:e.target.dataset.rarity}),(function(){return a.search()}))}},{key:"getRarityList",value:function(){var t=[""];return this.props.cards.map((function(e){return t.push(e.rarity)})),Object(p.a)(new Set(t)).sort()}},{key:"onTypeChange",value:function(t,e){var a=this;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{type:e.target.dataset.type}),(function(){return a.search()}))}},{key:"getTypeList",value:function(){var t=[""];return this.props.cards.map((function(e){return t.push(e.type)})),Object(p.a)(new Set(t)).sort()}},{key:"onArtistChange",value:function(t,e){var a=this;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{artist:e.target.dataset.artist}),(function(){return a.search()}))}},{key:"getArtistList",value:function(){var t=[""];return this.props.cards.map((function(e){return t.push.apply(t,Object(p.a)(e.artist.split(" ")))})),Object(p.a)(new Set(t)).sort()}},{key:"onCreatorChange",value:function(t,e){var a=this;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{creator:e.target.dataset.creator}),(function(){return a.search()}))}},{key:"getCreatorList",value:function(){var t=[""];return this.props.cards.map((function(e){return t.push.apply(t,Object(p.a)(e.creator.split(" ")))})),Object(p.a)(new Set(t)).sort()}},{key:"onAtkChange",value:function(t,e){var a=this;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{atk:e.target.dataset.atk}),(function(){return a.search()}))}},{key:"getAtkList",value:function(){var t=[""];return this.props.cards.map((function(e){""!==e.cost&&t.push(e.atk)})),Object(p.a)(new Set(t)).sort((function(t,e){return parseInt(t)-parseInt(e)}))}},{key:"onHpChange",value:function(t,e){var a=this;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{hp:e.target.dataset.hp}),(function(){return a.search()}))}},{key:"getHpList",value:function(){var t=[""];return this.props.cards.map((function(e){""!==e.cost&&t.push(e.hp)})),Object(p.a)(new Set(t)).sort((function(t,e){return parseInt(t)-parseInt(e)}))}},{key:"onCostChange",value:function(t,e){var a=this;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{cost:e.target.dataset.cost}),(function(){return a.search()}))}},{key:"getCostList",value:function(){var t=[""];return this.props.cards.map((function(e){""!==e.cost&&t.push(e.cost)})),Object(p.a)(new Set(t)).sort((function(t,e){return parseInt(t)-parseInt(e)}))}},{key:"render",value:function(){var t=r.a.forwardRef((function(t,e){var a=t.children,c=t.style,s=t.className,i=t["aria-labelledby"],o=Object(n.useState)(""),d=Object(h.a)(o,2),l=d[0],u=d[1];return Object(_.jsxs)("div",{ref:e,style:c,className:s,"aria-labelledby":i,children:[Object(_.jsx)(pt.a,{autoFocus:!0,className:"mx-auto my-2 w-75",placeholder:"Type to filter...",onChange:function(t){return u(t.target.value)},value:l}),Object(_.jsx)("ul",{className:"list-unstyled",children:r.a.Children.toArray(a).filter((function(t){return!l||t.props.children.toLowerCase().includes(l.toLowerCase())}))})]})}));return Object(_.jsxs)("div",{children:[Object(_.jsx)("input",{className:ht.a.simpleInput,placeholder:"Search...",value:this.state.card_input,onChange:this.onSimpleInputChange}),Object(_.jsx)(C.a,{onClick:this.lockAdvancedSearch,children:"Advanced Options"}),Object(_.jsxs)(bt.Collapse,{isOpened:this.state.advanced_active,children:[Object(_.jsx)(C.a,{onClick:this.resetSearchOptions,children:"Clear Options"}),Object(_.jsxs)(q.a,{onSelect:this.onFormatChange,children:[Object(_.jsxs)(q.a.Toggle,{children:["Format: ",Object(_.jsx)("b",{children:this.state.format})]}),Object(_.jsxs)(q.a.Menu,{children:[Object(_.jsx)(q.a.Item,{"data-format":"Legacy",children:"Legacy"}),Object(_.jsx)(q.a.Item,{"data-format":"Standard",children:"Standard"}),Object(_.jsx)(q.a.Item,{"data-format":"New Standard",children:"New Standard"})]})]}),Object(_.jsxs)(q.a,{onSelect:this.onTribeChange,children:[Object(_.jsxs)(q.a.Toggle,{children:["Tribe: ",Object(_.jsx)("b",{children:this.state.tribe||"All"})]}),Object(_.jsx)(q.a.Menu,{as:t,children:this.getTribeList().map((function(t,e){return Object(_.jsx)(q.a.Item,{"data-tribe":t,children:t||"All"})}))})]}),Object(_.jsxs)(q.a,{onSelect:this.onAffinityChange,children:[Object(_.jsxs)(q.a.Toggle,{children:["Affinity: ",Object(_.jsx)("b",{children:this.state.affinity||"All"})]}),Object(_.jsx)(q.a.Menu,{as:t,children:this.getAffinityList().map((function(t,e){return Object(_.jsx)(q.a.Item,{"data-affinity":t,children:t||"All"})}))})]}),Object(_.jsxs)(q.a,{onSelect:this.onAtkChange,children:[Object(_.jsxs)(q.a.Toggle,{children:["ATK: ",Object(_.jsx)("b",{children:this.state.atk||"All"})]}),Object(_.jsx)(q.a.Menu,{children:this.getAtkList().map((function(t,e){return Object(_.jsx)(q.a.Item,{"data-atk":t,children:""===t?"All":t})}))})]}),Object(_.jsxs)(q.a,{onSelect:this.onHpChange,children:[Object(_.jsxs)(q.a.Toggle,{children:["HP: ",Object(_.jsx)("b",{children:this.state.hp||"All"})]}),Object(_.jsx)(q.a.Menu,{children:this.getHpList().map((function(t,e){return Object(_.jsx)(q.a.Item,{"data-hp":t,children:""===t?"All":t})}))})]}),Object(_.jsxs)(q.a,{onSelect:this.onCostChange,children:[Object(_.jsxs)(q.a.Toggle,{children:["Cost: ",Object(_.jsx)("b",{children:this.state.cost||"All"})]}),Object(_.jsx)(q.a.Menu,{children:this.getCostList().map((function(t,e){return Object(_.jsx)(q.a.Item,{"data-cost":t,children:""===t?"All":t})}))})]}),Object(_.jsxs)(q.a,{onSelect:this.onTypeChange,children:[Object(_.jsxs)(q.a.Toggle,{children:["Type: ",Object(_.jsx)("b",{children:this.state.type||"All"})]}),Object(_.jsx)(q.a.Menu,{as:t,children:this.getTypeList().map((function(t,e){return Object(_.jsx)(q.a.Item,{"data-type":t,children:t||"All"})}))})]}),Object(_.jsxs)(q.a,{onSelect:this.onRealmChange,children:[Object(_.jsxs)(q.a.Toggle,{children:["Realm: ",Object(_.jsx)("b",{children:this.state.realm||"All"})]}),Object(_.jsx)(q.a.Menu,{as:t,children:this.getRealmList().map((function(t,e){return Object(_.jsx)(q.a.Item,{"data-realm":t,children:t||"All"})}))})]}),Object(_.jsxs)(q.a,{onSelect:this.onArtistChange,children:[Object(_.jsxs)(q.a.Toggle,{children:["Artist: ",Object(_.jsx)("b",{children:this.state.artist||"All"})]}),Object(_.jsx)(q.a.Menu,{as:t,children:this.getArtistList().map((function(t,e){return Object(_.jsx)(q.a.Item,{"data-artist":t,children:t||"All"})}))})]}),Object(_.jsxs)(q.a,{onSelect:this.onCreatorChange,children:[Object(_.jsxs)(q.a.Toggle,{children:["Creator: ",Object(_.jsx)("b",{children:this.state.creator||"All"})]}),Object(_.jsx)(q.a.Menu,{as:t,children:this.getCreatorList().map((function(t,e){return Object(_.jsx)(q.a.Item,{"data-creator":t,children:t||"All"})}))})]}),Object(_.jsxs)(q.a,{onSelect:this.onRarityChange,children:[Object(_.jsxs)(q.a.Toggle,{children:["Rarity: ",Object(_.jsx)("b",{children:this.state.rarity||"All"})]}),Object(_.jsx)(q.a.Menu,{as:t,children:this.getRarityList().map((function(t,e){return Object(_.jsx)(q.a.Item,{"data-rarity":t,children:t||"All"})}))})]})]})]})}}]),a}(r.a.Component),ft=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(_.jsx)(T.a,{className:"pt-5",children:Object(_.jsxs)(m.a,{children:[Object(_.jsxs)(v.a,{md:5,children:[this.props.saved_database.length<=0&&Object(_.jsx)(C.a,{variant:"primary",onClick:this.props.fillDatabaseAction,children:"Load All Cards"}),this.props.saved_database.length>0&&Object(_.jsx)(jt,{searchAction:this.props.searchAction,cards:this.props.database}),Object(_.jsx)(lt,{cards:this.props.database})]}),Object(_.jsx)(v.a,{md:5,children:Object(_.jsx)(w,{cards:this.props.cards,amountActions:this.props.amountActions,addCardAction:this.props.addCardAction})})]})})}}]),a}(r.a.Component),Ot=ft,gt=a(40);function mt(t){return vt.apply(this,arguments)}function vt(){return(vt=Object(u.a)(l.a.mark((function t(e){var a,n,r,c,s,i,o,d,u,h,p,b,j,f,O;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://server.collective.gg/api/public-cards/");case 2:return t.next=4,t.sent.json();case 4:a=t.sent,n=e.split("\n"),r=[],c=0;case 8:if(!(c<n.length)){t.next=34;break}if("#"!==n[c].charAt(0)&&""!==n[c]){t.next=11;break}return t.abrupt("continue",31);case 11:if(s=parseInt(n[c].charAt(0)),i="",(o=n[c].substring(2)).endsWith(".png"))i=/(?<=\/p\/cards\/)(.*?)(?=...png)/.exec(o)[0];else if(/([a-z]|[0-9]){8}-([a-z]|[0-9]){4}-([a-z]|[0-9]){4}-([a-z]|[0-9]){4}-([a-z]|[0-9]){12}/.test(o))i=o;else{d=Object(gt.a)(a.cards);try{for(d.s();!(u=d.n()).done;)0===(h=u.value).name.localeCompare(o,void 0,{sensitivity:"base"})&&(i=/(?<=\/p\/cards\/)(.*?)(?=...png)/.exec(h.imgurl)[0])}catch(l){d.e(l)}finally{d.f()}}if(""!==i){t.next=18;break}return console.log("INPUT ERROR"),t.abrupt("return",[]);case 18:return t.next=20,fetch("https://server.collective.gg/api/card/"+i);case 20:return t.next=22,t.sent.json();case 22:p=t.sent,b="",b=Object.keys(p.externals).length>0?"-m":"-s",j="https://files.collective.gg/p/cards/"+i+b+".png",f=xt(p.card.Text.Properties,"PortraitUrl").Expression.Value,O=xt(p.card.Text.Properties,"IGOCost").Expression.Value,isNaN(s)&&(s=1),console.log(p.card.Text.Name),r.push({id:i,name:p.card.Text.Name,link:j,img:f,affinity:p.card.Text.Affinity,cost:O,amount:s});case 31:c++,t.next=8;break;case 34:return t.abrupt("return",r);case 35:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xt(t,e){for(var a=0;a<t.length;a++)if(t[a].Symbol.Name===e)return t[a];return""}var yt=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(_.jsx)("div",{children:"test stream"})}}]),a}(r.a.Component),Ct=yt,kt=a(67),At=a.n(kt),St=a(108),_t=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(){var t;return Object(b.a)(this,a),(t=e.call(this)).state={isLoading:!1},t}return Object(j.a)(a,[{key:"loadingScreen",value:function(t){var e=this;this.setState({isLoading:!0}),t.then((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){return Object(_.jsx)("div",{className:At.a.loader,hidden:!this.state.isLoading,children:Object(_.jsx)(St.a,{animation:"border",role:"status",className:At.a.spinner,children:Object(_.jsx)("span",{className:"visually-hidden ",children:"Loading..."})})})}}]),a}(r.a.Component),Lt=function(t){Object(f.a)(a,t);var e=Object(O.a)(a);function a(){var t;return Object(b.a)(this,a),(t=e.call(this)).onDragEnd=function(e){var a=e.destination,n=e.source;if(a)if("searchlist_drop_id"===n.droppableId){if("decklist_drop_id"===a.droppableId){var r=Object(p.a)(t.state.children),c=Object(p.a)(t.state.database),s=c[n.index];s.amount=1,r.splice(a.index,0,s),t.setState({children:r,database:c})}}else if("decklist_drop_id"===n.droppableId){if(a.droppableId===n.droppableId&&a.index===n.index)return;var i=Object(p.a)(t.state.children),o=i.splice(n.index,1),d=Object(h.a)(o,1)[0];i.splice(a.index,0,d),t.setState({children:i,database:t.state.database})}},t.addCardAction=function(e){t.loadingAction(mt(e).then((function(e){t.setState({children:[].concat(Object(p.a)(t.state.children),Object(p.a)(e))})})))},t.clearAction=function(){t.setState({children:[]})},t.sortByCostAction=function(){var e=t.state.children;e.sort((function(t,e){return parseInt(t.cost)-parseInt(e.cost)})),t.setState({children:e})},t.sortByNameAction=function(){var e=t.state.children;e.sort((function(t,e){return t.name.localeCompare(e.name,void 0,{numeric:!0})})),t.setState({children:e})},t.sortByAffinityAction=function(){var e=t.state.children;e.sort((function(t,e){return t.affinity.localeCompare(e.affinity,void 0,{numeric:!0})})),t.setState({children:e})},t.exportToTextAction=function(){var e=t.state.children,a="";e.map((function(t){return a+=t.amount+" "+t.link+"\n"})),navigator.clipboard.writeText(a)},t.optionActions={clear:t.clearAction,sortByCost:t.sortByCostAction,sortByName:t.sortByNameAction,sortByAffinity:t.sortByAffinityAction,exportToText:t.exportToTextAction},t.addAmountAction=function(e){var a=t.state.children;a[e].amount>=3||(a[e].amount++,t.setState({children:a}))},t.removeAmountAction=function(e){var a=t.state.children;a[e].amount<=1?a.splice(e,1):a[e].amount--,t.setState({children:a})},t.amountActions={add:t.addAmountAction,remove:t.removeAmountAction},t.loadingAction=function(e){t.LoadingScreen.loadingScreen(e)},t.fillDatabaseAction=Object(u.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],"1GqUqHDlW3gSzasXYt8LhhzigXCduWyz_Dvz2rpXzBfM","0","https://docs.google.com/spreadsheets/d/1GqUqHDlW3gSzasXYt8LhhzigXCduWyz_Dvz2rpXzBfM/gviz/tq?tqx=out:json&tq&gid=0",t.loadingAction(fetch("https://docs.google.com/spreadsheets/d/1GqUqHDlW3gSzasXYt8LhhzigXCduWyz_Dvz2rpXzBfM/gviz/tq?tqx=out:json&tq&gid=0").then((function(t){return t.text()})).then((function(t){var e=JSON.parse(t.substring(47).slice(0,-2));console.log(e),e.table.rows.forEach(function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Object.keys(e.c).length){t.next=2;break}return t.abrupt("return");case 2:if("Undraftable"!==e.c[3].v){t.next=4;break}return t.abrupt("return");case 4:n=/(?<=\/p\/cards\/)(.*?)(?=...png)/.exec(e.c[12].v)[0],a.push({id:n,name:e.c[0]?e.c[0].v:"",link:e.c[12]?e.c[12].v:"",img:e.c[15]?e.c[15].v:"",affinity:e.c[2]?e.c[2].v:"",cost:e.c[4]?e.c[4].v:"",tribe:e.c[10]?e.c[10].v:"",realm:e.c[11]?e.c[11].v:"",release_date:e.c[13]?e.c[13].v:"",ability:e.c[7]?e.c[7].v:"",creator:e.c[8]?e.c[8].v:"",artist:e.c[9]?e.c[9].v:"",atk:e.c[5]?e.c[5].v:"",hp:e.c[6]?e.c[6].v:"",rarity:e.c[3]?e.c[3].v:"",type:e.c[1]?e.c[1].v:""});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})).then((function(){a=a.sort((function(t,e){return t.name.localeCompare(e.name,void 0,{numeric:!0})})).sort((function(t,e){return parseInt(t.cost)-parseInt(e.cost)})),t.setState(Object(o.a)(Object(o.a)({},t.state),{},{database:Object(p.a)(a),saved_database:Object(p.a)(a)}))})));case 5:case"end":return e.stop()}}),e)}))),t.searchAction=function(e){var a=t.state.saved_database,n=e.simple_input;switch(a=a.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())||t.tribe.toLowerCase().includes(n.toLowerCase())||t.realm.toLowerCase().includes(n.toLowerCase())||t.ability.toLowerCase().includes(n.toLowerCase())})),e.format){case"Legacy":break;case"Standard":a=a.filter((function(t){return new Date(t.release_date)>new Date("2020-05-22T00:00:00.0000")}));break;case"New Standard":a=a.filter((function(t){return new Date(t.release_date)>new Date("2021-05-28T00:00:00.0000")}));break;default:console.log("Missing Filter")}var r=e.affinity;a=a.filter((function(t){return t.affinity.includes(r)}));var c=e.tribe;a=a.filter((function(t){return t.tribe.includes(c)}));var s=e.realm;a=a.filter((function(t){return t.realm.includes(s)}));var i=e.artist;a=a.filter((function(t){return t.artist.includes(i)}));var d=e.creator;a=a.filter((function(t){return t.creator.includes(d)}));var l=e.atk;a=a.filter((function(t){return""===l||parseInt(t.atk)===parseInt(l)}));var u=e.hp;a=a.filter((function(t){return""===u||parseInt(t.hp)===parseInt(u)}));var h=e.cost;a=a.filter((function(t){return""===h||parseInt(t.cost)===parseInt(h)}));var b=e.rarity;a=a.filter((function(t){return t.rarity.includes(b)}));var j=e.type;a=a.filter((function(t){return t.type.includes(j)})),t.setState(Object(o.a)(Object(o.a)({},t.state),{},{database:Object(p.a)(a)}))},t.state={children:[],database:[],saved_database:[]},t}return Object(j.a)(a,[{key:"render",value:function(){var t=this;return Object(_.jsxs)("div",{children:[Object(_.jsx)(nt,{}),Object(_.jsx)(_t,{ref:function(e){return t.LoadingScreen=e}}),Object(_.jsx)(x.a,{onDragEnd:this.onDragEnd,children:Object(_.jsxs)(g.c,{children:[Object(_.jsx)(g.a,{path:"/collective-deck/",element:Object(_.jsx)(J,{cards:this.state.children,amountActions:this.amountActions,optionActions:this.optionActions,addCardAction:this.addCardAction})}),Object(_.jsx)(g.a,{path:"/collective-deck/build",element:Object(_.jsx)(Ot,{cards:this.state.children,database:this.state.database,saved_database:this.state.saved_database,amountActions:this.amountActions,optionActions:this.optionActions,fillDatabaseAction:this.fillDatabaseAction,searchAction:this.searchAction})}),Object(_.jsx)(g.a,{path:"/collective-deck/analyse",element:Object(_.jsx)(K,{})}),Object(_.jsx)(g.a,{path:"/collective-deck/stream",element:Object(_.jsx)(Ct,{})}),Object(_.jsx)(g.a,{path:"/collective-deck/credits",element:Object(_.jsx)(Z,{})})]})})]})}}]),a}(r.a.Component),It=Lt;a(98);s.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(et.a,{children:Object(_.jsx)(It,{})})}),document.getElementById("root")),i()}},[[99,1,2]]]);
//# sourceMappingURL=main.463cb9af.chunk.js.map