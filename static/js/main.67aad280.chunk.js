(this["webpackJsonpcollective-deck"]=this["webpackJsonpcollective-deck"]||[]).push([[0],{74:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(18),i=n.n(a),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},o=(n(72),n(23)),d=n.n(o),l=n(29),u=n(6),p=n(28),j=n(10),b=n(11),h=n(13),O=n(12),f=(n(74),n(9)),x=n(92),v=n(93),m=n(2),y=n(42),k=n(97),g=n(62),A=n(1),C=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(A.jsx)(y.b,{draggableId:"drag_id_"+this.props.index,index:this.props.index,children:function(t){return Object(A.jsx)("div",Object(m.a)(Object(m.a)(Object(m.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:Object(A.jsxs)(k.a,{className:"bg-collective affinity-"+e.props.card.affinity,children:[Object(A.jsxs)(k.a.Body,{children:[Object(A.jsx)("div",{children:e.props.card.name}),Object(A.jsxs)("div",{style:{display:"flex"},children:[Object(A.jsx)("div",{children:e.props.card.amount}),Object(A.jsx)(g.a,{variant:"success",className:"card-link-btn",onClick:function(){return e.props.amountActions.add(e.props.index)},children:"+"}),Object(A.jsx)(g.a,{variant:"danger",className:"card-link-btn",onClick:function(){return e.props.amountActions.remove(e.props.index)},children:"-"})]})]}),Object(A.jsx)(k.a.Footer,{children:e.props.card.id})]})}))}})}}]),n}(c.a.Component),N=C,S=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(A.jsx)(y.c,{droppableId:"decklist_drop_id",children:function(t){return Object(A.jsxs)("div",Object(m.a)(Object(m.a)({ref:t.innerRef},t.droppableProps),{},{children:[e.props.cards.map((function(t,n){return Object(A.jsx)(N,{card:t,index:n,amountActions:e.props.amountActions},n)})),t.placeholder]}))}})}}]),n}(c.a.Component),T=S,w=n(66),I=n(46),B=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).state={card_input:""},r.onHandleChange=r.onHandleChange.bind(Object(I.a)(r)),r.onHandleSubmit=r.onHandleSubmit.bind(Object(I.a)(r)),r}return Object(b.a)(n,[{key:"onHandleChange",value:function(e){this.setState({card_input:e.target.value})}},{key:"onHandleSubmit",value:function(e){e.preventDefault(),this.props.addCardAction(this.state.card_input),this.setState({card_input:""})}},{key:"render",value:function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)("textarea",{rows:3,placeholder:"Card links go here...",value:this.state.card_input,onChange:this.onHandleChange}),Object(A.jsx)(g.a,{variant:"secondary",onClick:this.onHandleSubmit,children:"Add Card(s)!"})]})}}]),n}(c.a.Component),H=n(63),_=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsxs)("a",{href:this.props.card.link,target:"_blank",className:"card-img",style:{backgroundImage:"url(".concat(this.props.card.img,")")},rel:"noreferrer","data-tip":!0,"data-for":"card-tooltip-"+this.props.card.id,children:[Object(A.jsx)("p",{children:this.props.card.name}),Object(A.jsx)(H.a,{id:"card-tooltip-"+this.props.card.id,place:"bottom",backgroundColor:"none",className:"opaque",children:Object(A.jsx)("img",{src:this.props.card.link,alt:"card-tooltip",width:"300px"})})]})}}]),n}(c.a.Component),P=_,D=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsx)("div",{className:"deckview-container",children:this.props.cards.map((function(e,t){return Object(A.jsx)(P,{card:e},t)}))})}}]),n}(c.a.Component),E=D,L=n(94),F=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsxs)("div",{className:"page-bottom",children:[Object(A.jsx)(g.a,{variant:"secondary",onClick:this.props.optionActions.clear,children:"Clear"}),Object(A.jsxs)(L.a,{children:[Object(A.jsx)(L.a.Toggle,{variant:"secondary",id:"dropdown-basic",children:"Export As"}),Object(A.jsxs)(L.a.Menu,{children:[Object(A.jsx)(L.a.Item,{href:"",onClick:this.props.optionActions.exportToText,children:"Text"}),Object(A.jsx)(L.a.Item,{href:"",children:"~~SOON~~ Link ~~SOON~~"})]})]}),Object(A.jsxs)(L.a,{children:[Object(A.jsx)(L.a.Toggle,{variant:"secondary",id:"dropdown-basic",children:"Sort By"}),Object(A.jsxs)(L.a.Menu,{children:[Object(A.jsx)(L.a.Item,{href:"",onClick:this.props.optionActions.sortByCost,children:"Cost"}),Object(A.jsx)(L.a.Item,{href:"",onClick:this.props.optionActions.sortByName,children:"Name"}),Object(A.jsx)(L.a.Item,{href:"",onClick:this.props.optionActions.sortByAffinity,children:"Affinity"})]})]})]})}}]),n}(c.a.Component),M=F;function R(){return(R=Object(l.a)(d.a.mark((function e(){var t,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://server.collective.gg/api/public/leaderboards");case 2:return e.next=4,e.sent.json();case 4:for(c in t=e.sent,n=t.multi[Math.floor(Math.random()*t.multi.length)],r="",n.cards)r+=n.cards[c]+" "+c+"\n";return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(){return R.apply(this,arguments)},U=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(A.jsxs)("div",{children:[Object(A.jsx)(g.a,{variant:"secondary",onClick:Object(l.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e.props,t.next=3,z();case 3:return t.t1=t.sent,t.abrupt("return",t.t0.addCardAction.call(t.t0,t.t1));case 5:case"end":return t.stop()}}),t)}))),children:"See a random deck from Ladder!"}),Object(A.jsx)("p",{className:"App",children:"OR"})]})}}]),n}(c.a.Component),V=U,J=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsx)(w.a,{className:"pt-5",children:Object(A.jsxs)(x.a,{children:[Object(A.jsxs)(v.a,{xs:5,children:[this.props.cards.length<=0&&Object(A.jsx)(V,{addCardAction:this.props.addCardAction}),Object(A.jsx)(T,{cards:this.props.cards,amountActions:this.props.amountActions,addCardAction:this.props.addCardAction}),Object(A.jsx)(B,{addCardAction:this.props.addCardAction}),this.props.cards.length>0&&Object(A.jsx)(M,{optionActions:this.props.optionActions})]}),Object(A.jsx)(v.a,{children:Object(A.jsx)(E,{cards:this.props.cards})})]})})}}]),n}(c.a.Component),q=J,G=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsx)("div",{className:"App",children:"Under construction..."})}}]),n}(c.a.Component),W=G,K=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsxs)("div",{className:"App",children:["Hi! I'm Sevas. I made this. ",Object(A.jsx)("br",{}),"Thanks to the Collective Community for keeping this game alive, this couldn't be a thing without others to serve. ",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"If you really want to show me gratidute ask me out on a date or buy me a coffee."]})}}]),n}(c.a.Component),Q=K,X=n(95),Y=n(96),Z=n(27),$=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(X.a,{bg:"light",expand:"lg",children:Object(A.jsxs)(w.a,{children:[Object(A.jsx)(X.a.Brand,{as:Z.b,to:"/collective-deck/",children:"Collective Deck"}),Object(A.jsx)(X.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(A.jsx)(X.a.Collapse,{id:"basic-navbar-nav",children:Object(A.jsxs)(Y.a,{className:"me-auto",children:[Object(A.jsx)(Y.a.Link,{as:Z.b,to:"/collective-deck/",children:"View"}),Object(A.jsx)(Y.a.Link,{as:Z.b,to:"/collective-deck/build",children:"Build"}),Object(A.jsx)(Y.a.Link,{as:Z.b,to:"/collective-deck/analyse",children:"Analyse"}),Object(A.jsx)(Y.a.Link,{as:Z.b,to:"/collective-deck/credits",children:"Credits"})]})})]})})})}}]),n}(c.a.Component),ee=$,te=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsx)("div",{className:"App",children:"Under construction..."})}}]),n}(c.a.Component),ne=te,re=n(36);function ce(){return(ce=Object(l.a)(d.a.mark((function e(t){var n,r,c,a,i,s,o,l,u,p,j,b,h,O,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://server.collective.gg/api/public-cards/");case 2:return e.next=4,e.sent.json();case 4:n=e.sent,r=t.split("\n"),c=[],a=0;case 8:if(!(a<r.length)){e.next=32;break}if("#"!==r[a].charAt(0)&&""!==r[a]){e.next=11;break}return e.abrupt("continue",29);case 11:if(i=parseInt(r[a].charAt(0)),s="",(o=r[a].substring(2)).endsWith(".png"))s=/(?<=\/p\/cards\/)(.*?)(?=...png)/.exec(o)[0];else if(/([a-z]|[0-9]){8}-([a-z]|[0-9]){4}-([a-z]|[0-9]){4}-([a-z]|[0-9]){4}-([a-z]|[0-9]){12}/.test(o))s=o;else{l=Object(re.a)(n.cards);try{for(l.s();!(u=l.n()).done;)0===(p=u.value).name.localeCompare(o,void 0,{sensitivity:"base"})&&(s=/(?<=\/p\/cards\/)(.*?)(?=...png)/.exec(p.imgurl)[0])}catch(d){l.e(d)}finally{l.f()}}if(""!==s){e.next=18;break}return console.log("INPUT ERROR"),e.abrupt("return",[]);case 18:return e.next=20,fetch("https://server.collective.gg/api/card/"+s);case 20:return e.next=22,e.sent.json();case 22:j=e.sent,b="",b=Object.keys(j.externals).length>0?"-m":"-s",h="https://files.collective.gg/p/cards/"+s+b+".png",O=ae(j.card.Text.Properties,"PortraitUrl").Expression.Value,f=ae(j.card.Text.Properties,"IGOCost").Expression.Value,c.push({id:s,name:j.card.Text.Name,link:h,img:O,affinity:j.card.Text.Affinity,cost:f,amount:i});case 29:a++,e.next=8;break;case 32:return e.abrupt("return",c);case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){for(var n=0;n<e.length;n++)if(e[n].Symbol.Name===t)return e[n];return""}var ie=function(e){return ce.apply(this,arguments)},se=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsx)("div",{children:"test stream"})}}]),n}(c.a.Component),oe=se,de=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).onDragEnd=function(t){var n=t.destination,r=t.source;if(n&&(n.droppableId!==r.droppableId||n.index!==r.index)){var c=Object(p.a)(e.state.children),a=c.splice(r.index,1),i=Object(u.a)(a,1)[0];c.splice(n.index,0,i),e.setState({children:c})}},e.addCardAction=function(){var t=Object(l.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie(n);case 2:r=t.sent,e.setState({children:[].concat(Object(p.a)(e.state.children),Object(p.a)(r))});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.clearAction=function(){e.setState({children:[]})},e.sortByCostAction=function(){var t=e.state.children;t.sort((function(e,t){return parseInt(e.cost)-parseInt(t.cost)})),e.setState({children:t})},e.sortByNameAction=function(){var t=e.state.children;t.sort((function(e,t){return e.name.localeCompare(t.name,void 0,{numeric:!0})})),e.setState({children:t})},e.sortByAffinityAction=function(){var t=e.state.children;t.sort((function(e,t){return e.affinity.localeCompare(t.affinity,void 0,{numeric:!0})})),e.setState({children:t})},e.exportToTextAction=function(){var t=e.state.children,n="";t.map((function(e){return n+=e.amount+" "+e.link+"\n"})),navigator.clipboard.writeText(n)},e.optionActions={clear:e.clearAction,sortByCost:e.sortByCostAction,sortByName:e.sortByNameAction,sortByAffinity:e.sortByAffinityAction,exportToText:e.exportToTextAction},e.addAmountAction=function(t){var n=e.state.children;n[t].amount>=3||(n[t].amount++,e.setState({children:n}))},e.removeAmountAction=function(t){var n=e.state.children;n[t].amount<=1?n.splice(t,1):n[t].amount--,e.setState({children:n})},e.amountActions={add:e.addAmountAction,remove:e.removeAmountAction},e.state={children:[]},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){document.title="Collective Deck"}},{key:"render",value:function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)(ee,{}),Object(A.jsx)(y.a,{onDragEnd:this.onDragEnd,children:Object(A.jsxs)(f.c,{children:[Object(A.jsx)(f.a,{path:"/collective-deck/",element:Object(A.jsx)(q,{cards:this.state.children,amountActions:this.amountActions,optionActions:this.optionActions,addCardAction:this.addCardAction})}),Object(A.jsx)(f.a,{path:"/collective-deck/build",element:Object(A.jsx)(ne,{})}),Object(A.jsx)(f.a,{path:"/collective-deck/analyse",element:Object(A.jsx)(W,{})}),Object(A.jsx)(f.a,{path:"/collective-deck/stream",element:Object(A.jsx)(oe,{})}),Object(A.jsx)(f.a,{path:"/collective-deck/credits",element:Object(A.jsx)(Q,{})})]})})]})}}]),n}(c.a.Component),le=de;n(83);i.a.render(Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(Z.a,{children:Object(A.jsx)(le,{})})}),document.getElementById("root")),s()}},[[84,1,2]]]);
//# sourceMappingURL=main.67aad280.chunk.js.map