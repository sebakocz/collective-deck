(this["webpackJsonpcollective-deck"]=this["webpackJsonpcollective-deck"]||[]).push([[0],{28:function(e,t,n){e.exports={card:"Cardlink_card__kqvrS",cardBody:"Cardlink_cardBody__2zP-I",cardFooter:"Cardlink_cardFooter__1Drrz",cardLinkBtn:"Cardlink_cardLinkBtn__1I-rx",cardCost:"Cardlink_cardCost__9fgYy",cardCountBtns:"Cardlink_cardCountBtns__1yAAx",cardCount:"Cardlink_cardCount__3SyXs"}},44:function(e,t,n){e.exports={cardFrame:"SearchCardFrame_cardFrame__fJUNt",emptyFrame:"SearchCardFrame_emptyFrame__3oGYL",cardSize:"SearchCardFrame_cardSize__fNF6b",cardName:"SearchCardFrame_cardName__2V1Bk",cardInput:"SearchCardFrame_cardInput__2JMfB"}},65:function(e,t,n){e.exports={loader:"LoadingScreen_loader__1PuNx",spinner:"LoadingScreen_spinner__OPH9S"}},68:function(e,t,n){e.exports={cardImg:"CardImage_cardImg__1qtCq"}},69:function(e,t,n){e.exports={deckviewContainer:"DeckView_deckviewContainer__1nTUh"}},79:function(e,t,n){},86:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),i=n.n(c),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},s=(n(78),n(8)),d=n(27),l=n(10),u=n(11),p=n(13),j=n(12),b=(n(79),n(9)),h=n(99),f=n(72),O=n(2),m=n(42),x=n(105),v=n(67),g=n(28),y=n.n(g),k=n(55),C=n(1),A=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"get_rgba",value:function(e){var t;switch(e){case"None":t="rgba(211,211,211,1)";break;case"Mind":t="rgba(97,180,217, 1)";break;case"Strength":t="rgba(246,156,153, 1)";break;case"Spirit":t="rgba(148,227,142, 1)"}return t}},{key:"render",value:function(){var e=this;return Object(C.jsx)(m.b,{draggableId:"drag_id_"+this.props.index,index:this.props.index,children:function(t){return Object(C.jsxs)("div",Object(O.a)(Object(O.a)(Object(O.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:[Object(C.jsxs)(x.a,{className:"bg-collective affinity-"+e.props.card.affinity+" "+y.a.card,"data-tip":!0,"data-for":"card-tooltip-"+e.props.card.id,style:{background:"linear-gradient(103deg, "+e.get_rgba(e.props.card.affinity)+" 0%, \n                                                        "+e.get_rgba(e.props.card.affinity)+" 42%, \n                                                        rgba(255,255,255,0) 50%, \n                                                        rgba(255,255,255,0) 80%, \n                                                        "+e.get_rgba(e.props.card.affinity)+" 90%, \n                                                        "+e.get_rgba(e.props.card.affinity)+" 100%),\n                                url(".concat(e.props.card.img,") right 3rem center/50% no-repeat\n                                ")},children:[Object(C.jsxs)(x.a.Body,{class:y.a.cardBody,children:[Object(C.jsx)("div",{className:y.a.cardCost,children:e.props.card.cost}),Object(C.jsx)("div",{children:e.props.card.name}),Object(C.jsxs)("div",{className:y.a.cardCountBtns,children:[Object(C.jsx)("div",{className:y.a.cardCount,children:e.props.card.amount}),Object(C.jsx)(v.a,{variant:"success",className:y.a.cardLinkBtn,onClick:function(){return e.props.amountActions.add(e.props.index)},children:"+"}),Object(C.jsx)(v.a,{variant:"danger",className:y.a.cardLinkBtn,onClick:function(){return e.props.amountActions.remove(e.props.index)},children:"-"})]})]}),Object(C.jsx)(x.a.Footer,{class:y.a.cardFooter,children:Object(C.jsx)("a",{href:e.props.card.link,target:"_blank",rel:"noreferrer",children:e.props.card.id})})]}),Object(C.jsx)(k.a,{id:"card-tooltip-"+e.props.card.id,place:"bottom",backgroundColor:"none",className:"opaque",children:Object(C.jsx)("img",{src:e.props.card.link,alt:"card-tooltip",width:"300px"})})]}))}})}}]),n}(r.a.Component),_=A,S=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsx)(m.c,{droppableId:"decklist_drop_id",children:function(t){return Object(C.jsxs)("div",Object(O.a)(Object(O.a)({ref:t.innerRef},t.droppableProps),{},{style:{marginBottom:"10rem"},children:[e.props.cards.map((function(t,n){return Object(C.jsx)(_,{card:t,index:n,amountActions:e.props.amountActions},n)})),t.placeholder]}))}})}}]),n}(r.a.Component),N=S,B=n(54),I=n(48),L=(n(86),function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={card_input:""},a.onHandleChange=a.onHandleChange.bind(Object(I.a)(a)),a.onHandleSubmit=a.onHandleSubmit.bind(Object(I.a)(a)),a}return Object(u.a)(n,[{key:"onHandleChange",value:function(e){this.setState({card_input:e.target.value})}},{key:"onHandleSubmit",value:function(e){e.preventDefault(),this.props.addCardAction(this.state.card_input),this.setState({card_input:""})}},{key:"render",value:function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)("textarea",{rows:3,placeholder:"Card links go here...",value:this.state.card_input,onChange:this.onHandleChange}),Object(C.jsx)(v.a,{variant:"secondary",onClick:this.onHandleSubmit,children:"Add Card(s)!"})]})}}]),n}(r.a.Component)),T=n(68),w=n.n(T),F=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(C.jsxs)("a",{href:this.props.card.link,target:"_blank",rel:"noreferrer",className:w.a.cardImg,style:{backgroundImage:"url(".concat(this.props.card.img,")")},"data-tip":!0,"data-for":"card-tooltip-"+this.props.card.id,children:[Object(C.jsx)("p",{children:this.props.card.name}),Object(C.jsx)(k.a,{id:"card-tooltip-"+this.props.card.id,place:"bottom",backgroundColor:"none",className:"opaque",children:Object(C.jsx)("img",{src:this.props.card.link,alt:"card-tooltip",width:"300px"})})]})}}]),n}(r.a.Component),P=F,H=n(69),z=n.n(H),D=(r.a.Component,n(101)),E=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"page-bottom",children:[Object(C.jsx)(v.a,{variant:"secondary",onClick:this.props.optionActions.clear,children:"Clear"}),Object(C.jsxs)(D.a,{children:[Object(C.jsx)(D.a.Toggle,{variant:"secondary",id:"dropdown-basic",children:"Export As"}),Object(C.jsxs)(D.a.Menu,{children:[Object(C.jsx)(D.a.Item,{href:"",onClick:this.props.optionActions.exportToText,children:"Text"}),Object(C.jsx)(D.a.Item,{href:"",children:"~~SOON~~ Link ~~SOON~~"})]})]}),Object(C.jsxs)(D.a,{children:[Object(C.jsx)(D.a.Toggle,{variant:"secondary",id:"dropdown-basic",children:"Sort By"}),Object(C.jsxs)(D.a.Menu,{children:[Object(C.jsx)(D.a.Item,{href:"",onClick:this.props.optionActions.sortByCost,children:"Cost"}),Object(C.jsx)(D.a.Item,{href:"",onClick:this.props.optionActions.sortByName,children:"Name"}),Object(C.jsx)(D.a.Item,{href:"",onClick:this.props.optionActions.sortByAffinity,children:"Affinity"})]})]})]})}}]),n}(r.a.Component),M=E,R=n(43),U=n.n(R),q=n(60);function V(){return(V=Object(q.a)(U.a.mark((function e(){var t,n,a,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://server.collective.gg/api/public/leaderboards");case 2:return e.next=4,e.sent.json();case 4:for(r in t=e.sent,n=t.multi[Math.floor(Math.random()*t.multi.length)],a="",n.cards)a+=n.cards[r]+" "+r+"\n";return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=function(){return V.apply(this,arguments)};var G=function(e){return Object(C.jsxs)("div",{children:[Object(C.jsx)(v.a,{variant:"secondary",onClick:function(){J().then((function(t){return e.addCardAction(t)}))},children:"See a random deck from Ladder!"}),Object(C.jsx)("p",{className:"App",children:"OR"})]})},Y=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(C.jsx)(B.a,{className:"pt-5",children:Object(C.jsxs)(h.a,{children:[Object(C.jsxs)(f.a,{md:5,children:[this.props.cards.length<=0&&Object(C.jsx)(G,{addCardAction:this.props.addCardAction}),this.props.cards.length>0&&Object(C.jsx)("div",{children:this.props.cards.reduce((function(e,t){return e+t.amount}),0)}),Object(C.jsx)(L,{addCardAction:this.props.addCardAction}),this.props.cards.length>0&&Object(C.jsx)(M,{optionActions:this.props.optionActions})]}),Object(C.jsx)(f.a,{md:5,children:Object(C.jsx)(N,{cards:this.props.cards,amountActions:this.props.amountActions,addCardAction:this.props.addCardAction})})]})})}}]),n}(r.a.Component),W=Y,X=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"App",children:"Under construction..."})}}]),n}(r.a.Component),K=X,Q=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"App",children:["Hi! I'm Sevas. I made this. ",Object(C.jsx)("br",{}),"Thanks to the Collective Community for keeping this game alive, this couldn't be a thing without others to serve. ",Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),"If you really want to show me gratitude ask me out on a date or buy me a coffee."]})}}]),n}(r.a.Component),Z=Q,$=n(102),ee=n(104),te=n(26),ne=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)($.a,{bg:"light",expand:"lg",children:Object(C.jsxs)(B.a,{children:[Object(C.jsx)($.a.Brand,{as:te.b,to:"/collective-deck/",children:"Collective Deck"}),Object(C.jsx)($.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(C.jsx)($.a.Collapse,{id:"basic-navbar-nav",children:Object(C.jsxs)(ee.a,{className:"me-auto",children:[Object(C.jsx)(ee.a.Link,{as:te.b,to:"/collective-deck/",children:"View"}),Object(C.jsx)(ee.a.Link,{as:te.b,to:"/collective-deck/build",children:"Build"}),Object(C.jsx)(ee.a.Link,{as:te.b,to:"/collective-deck/analyse",children:"Analyse"}),Object(C.jsx)(ee.a.Link,{as:te.b,to:"/collective-deck/credits",children:"Credits"})]})})]})})})}}]),n}(r.a.Component),ae=ne,re=n(44),ce=n.n(re),ie=n.p+"static/media/empty_cardframe.1de7c358.png",oe=n(103),se=(r.a.Component,function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"App",children:"Under construction..."})}}]),n}(r.a.Component)),de=se,le=n(36);function ue(){return(ue=Object(q.a)(U.a.mark((function e(t){var n,a,r,c,i,o,s,d,l,u,p,j,b,h,f;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://server.collective.gg/api/public-cards/");case 2:return e.next=4,e.sent.json();case 4:n=e.sent,a=t.split("\n"),r=[],c=0;case 8:if(!(c<a.length)){e.next=33;break}if("#"!==a[c].charAt(0)&&""!==a[c]){e.next=11;break}return e.abrupt("continue",30);case 11:if(i=parseInt(a[c].charAt(0)),o="",(s=a[c].substring(2)).endsWith(".png"))o=/(?<=\/p\/cards\/)(.*?)(?=...png)/.exec(s)[0];else if(/([a-z]|[0-9]){8}-([a-z]|[0-9]){4}-([a-z]|[0-9]){4}-([a-z]|[0-9]){4}-([a-z]|[0-9]){12}/.test(s))o=s;else{d=Object(le.a)(n.cards);try{for(d.s();!(l=d.n()).done;)0===(u=l.value).name.localeCompare(s,void 0,{sensitivity:"base"})&&(o=/(?<=\/p\/cards\/)(.*?)(?=...png)/.exec(u.imgurl)[0])}catch(O){d.e(O)}finally{d.f()}}if(""!==o){e.next=18;break}return console.log("INPUT ERROR"),e.abrupt("return",[]);case 18:return e.next=20,fetch("https://server.collective.gg/api/card/"+o);case 20:return e.next=22,e.sent.json();case 22:p=e.sent,j="",j=Object.keys(p.externals).length>0?"-m":"-s",b="https://files.collective.gg/p/cards/"+o+j+".png",h=pe(p.card.Text.Properties,"PortraitUrl").Expression.Value,f=pe(p.card.Text.Properties,"IGOCost").Expression.Value,isNaN(i)&&(i=1),r.push({id:o,name:p.card.Text.Name,link:b,img:h,affinity:p.card.Text.Affinity,cost:f,amount:i});case 30:c++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,t){for(var n=0;n<e.length;n++)if(e[n].Symbol.Name===t)return e[n];return""}var je=function(e){return ue.apply(this,arguments)},be=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{children:"test stream"})}}]),n}(r.a.Component),he=be,fe=n(65),Oe=n.n(fe),me=n(100),xe=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={isLoading:!1},e}return Object(u.a)(n,[{key:"loadingScreen",value:function(e){var t=this;this.setState({isLoading:!0}),e.then((function(){return t.setState({isLoading:!1})}))}},{key:"render",value:function(){return Object(C.jsx)("div",{className:Oe.a.loader,hidden:!this.state.isLoading,children:Object(C.jsx)(me.a,{animation:"border",role:"status",className:Oe.a.spinner,children:Object(C.jsx)("span",{className:"visually-hidden ",children:"Loading..."})})})}}]),n}(r.a.Component),ve=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).onDragEnd=function(t){var n=t.destination,a=t.source;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index)){var r=Object(d.a)(e.state.children),c=r.splice(a.index,1),i=Object(s.a)(c,1)[0];r.splice(n.index,0,i),e.setState({children:r})}},e.addCardAction=function(t){console.log(t),e.loadingAction(je(t).then((function(t){e.setState({children:[].concat(Object(d.a)(e.state.children),Object(d.a)(t))})})))},e.clearAction=function(){e.setState({children:[]})},e.sortByCostAction=function(){var t=e.state.children;t.sort((function(e,t){return parseInt(e.cost)-parseInt(t.cost)})),e.setState({children:t})},e.sortByNameAction=function(){var t=e.state.children;t.sort((function(e,t){return e.name.localeCompare(t.name,void 0,{numeric:!0})})),e.setState({children:t})},e.sortByAffinityAction=function(){var t=e.state.children;t.sort((function(e,t){return e.affinity.localeCompare(t.affinity,void 0,{numeric:!0})})),e.setState({children:t})},e.exportToTextAction=function(){var t=e.state.children,n="";t.map((function(e){return n+=e.amount+" "+e.link+"\n"})),navigator.clipboard.writeText(n)},e.optionActions={clear:e.clearAction,sortByCost:e.sortByCostAction,sortByName:e.sortByNameAction,sortByAffinity:e.sortByAffinityAction,exportToText:e.exportToTextAction},e.addAmountAction=function(t){var n=e.state.children;n[t].amount>=3||(n[t].amount++,e.setState({children:n}))},e.removeAmountAction=function(t){var n=e.state.children;n[t].amount<=1?n.splice(t,1):n[t].amount--,e.setState({children:n})},e.amountActions={add:e.addAmountAction,remove:e.removeAmountAction},e.loadingAction=function(t){e.LoadingScreen.loadingScreen(t)},e.state={children:[]},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{children:[Object(C.jsx)(ae,{}),Object(C.jsx)(xe,{ref:function(t){return e.LoadingScreen=t}}),Object(C.jsx)(m.a,{onDragEnd:this.onDragEnd,children:Object(C.jsxs)(b.c,{children:[Object(C.jsx)(b.a,{path:"/collective-deck/",element:Object(C.jsx)(W,{cards:this.state.children,amountActions:this.amountActions,optionActions:this.optionActions,addCardAction:this.addCardAction})}),Object(C.jsx)(b.a,{path:"/collective-deck/build",element:Object(C.jsx)(de,{cards:this.state.children,amountActions:this.amountActions,optionActions:this.optionActions,addCardAction:this.addCardAction})}),Object(C.jsx)(b.a,{path:"/collective-deck/analyse",element:Object(C.jsx)(K,{})}),Object(C.jsx)(b.a,{path:"/collective-deck/stream",element:Object(C.jsx)(he,{})}),Object(C.jsx)(b.a,{path:"/collective-deck/credits",element:Object(C.jsx)(Z,{})})]})})]})}}]),n}(r.a.Component);n(90);i.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(te.a,{children:Object(C.jsx)(ve,{})})}),document.getElementById("root")),o()}},[[91,1,2]]]);
//# sourceMappingURL=main.94bda7e9.chunk.js.map