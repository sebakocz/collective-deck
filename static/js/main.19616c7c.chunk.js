(this["webpackJsonpcollective-deck"]=this["webpackJsonpcollective-deck"]||[]).push([[0],{74:function(t,e,n){},83:function(t,e,n){},84:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(18),i=n.n(c),s=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))},o=(n(72),n(23)),d=n.n(o),l=n(29),u=n(6),j=n(28),p=n(10),b=n(11),h=n(13),O=n(12),f=(n(74),n(9)),x=n(92),m=n(93),v=n(2),y=n(42),g=n(97),k=n(62),A=n(1),C=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var t=this;return Object(A.jsx)(y.b,{draggableId:"drag_id_"+this.props.index,index:this.props.index,children:function(e){return Object(A.jsx)("div",Object(v.a)(Object(v.a)(Object(v.a)({},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:Object(A.jsxs)(g.a,{className:"bg-collective affinity-"+t.props.card.affinity,children:[Object(A.jsxs)(g.a.Body,{children:[Object(A.jsx)("div",{children:t.props.card.name}),Object(A.jsxs)("div",{style:{display:"flex"},children:[Object(A.jsx)("div",{children:t.props.card.amount}),Object(A.jsx)(k.a,{variant:"success",className:"card-link-btn",onClick:function(){return t.props.amountActions.add(t.props.index)},children:"+"}),Object(A.jsx)(k.a,{variant:"danger",className:"card-link-btn",onClick:function(){return t.props.amountActions.remove(t.props.index)},children:"-"})]})]}),Object(A.jsx)(g.a.Footer,{children:t.props.card.id})]})}))}})}}]),n}(a.a.Component),N=C,S=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var t=this;return Object(A.jsx)(y.c,{droppableId:"decklist_drop_id",children:function(e){return Object(A.jsxs)("div",Object(v.a)(Object(v.a)({ref:e.innerRef},e.droppableProps),{},{children:[t.props.cards.map((function(e,n){return Object(A.jsx)(N,{card:e,index:n,amountActions:t.props.amountActions},n)})),e.placeholder]}))}})}}]),n}(a.a.Component),T=S,w=n(66),I=n(46),B=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(t){var r;return Object(p.a)(this,n),(r=e.call(this,t)).state={card_input:""},r.onHandleChange=r.onHandleChange.bind(Object(I.a)(r)),r.onHandleSubmit=r.onHandleSubmit.bind(Object(I.a)(r)),r}return Object(b.a)(n,[{key:"onHandleChange",value:function(t){this.setState({card_input:t.target.value})}},{key:"onHandleSubmit",value:function(t){t.preventDefault(),this.props.addCardAction(this.state.card_input),this.setState({card_input:""})}},{key:"render",value:function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)("textarea",{rows:3,placeholder:"Card links go here...",value:this.state.card_input,onChange:this.onHandleChange}),Object(A.jsx)(k.a,{variant:"secondary",onClick:this.onHandleSubmit,children:"Add Card(s)!"})]})}}]),n}(a.a.Component),H=n(63),_=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsxs)("a",{href:this.props.card.link,target:"_blank",className:"card-img",style:{backgroundImage:"url(".concat(this.props.card.img,")")},rel:"noreferrer","data-tip":!0,"data-for":"card-tooltip-"+this.props.card.id,children:[Object(A.jsx)("p",{children:this.props.card.name}),Object(A.jsx)(H.a,{id:"card-tooltip-"+this.props.card.id,place:"bottom",backgroundColor:"none",className:"opaque",children:Object(A.jsx)("img",{src:this.props.card.link,alt:"card-tooltip",width:"300px"})})]})}}]),n}(a.a.Component),P=_,E=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsx)("div",{className:"deckview-container",children:this.props.cards.map((function(t,e){return Object(A.jsx)(P,{card:t},e)}))})}}]),n}(a.a.Component),L=E,D=n(94),F=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsxs)("div",{className:"page-bottom",children:[Object(A.jsx)(k.a,{variant:"secondary",onClick:this.props.optionActions.clear,children:"Clear"}),Object(A.jsxs)(D.a,{children:[Object(A.jsx)(D.a.Toggle,{variant:"secondary",id:"dropdown-basic",children:"Export As"}),Object(A.jsxs)(D.a.Menu,{children:[Object(A.jsx)(D.a.Item,{href:"",onClick:this.props.optionActions.exportToText,children:"Text"}),Object(A.jsx)(D.a.Item,{href:"",children:"~~SOON~~ Link ~~SOON~~"})]})]}),Object(A.jsxs)(D.a,{children:[Object(A.jsx)(D.a.Toggle,{variant:"secondary",id:"dropdown-basic",children:"Sort By"}),Object(A.jsxs)(D.a.Menu,{children:[Object(A.jsx)(D.a.Item,{href:"",onClick:this.props.optionActions.sortByCost,children:"Cost"}),Object(A.jsx)(D.a.Item,{href:"",onClick:this.props.optionActions.sortByName,children:"Name"}),Object(A.jsx)(D.a.Item,{href:"",onClick:this.props.optionActions.sortByAffinity,children:"Affinity"})]})]})]})}}]),n}(a.a.Component),R=F;function z(){return(z=Object(l.a)(d.a.mark((function t(){var e,n,r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://server.collective.gg/api/public/leaderboards");case 2:return t.next=4,t.sent.json();case 4:for(a in e=t.sent,n=e.multi[Math.floor(Math.random()*e.multi.length)],r="",n.cards)r+=n.cards[a]+" "+a+"\n";return t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var M=function(){return z.apply(this,arguments)},U=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var t=this;return Object(A.jsxs)("div",{children:[Object(A.jsx)(k.a,{variant:"secondary",onClick:Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.props,e.next=3,M();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.addCardAction.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)}))),children:"See a random deck from Ladder!"}),Object(A.jsx)("p",{className:"App",children:"OR"})]})}}]),n}(a.a.Component),V=U,J=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsx)(w.a,{className:"pt-5",children:Object(A.jsxs)(x.a,{children:[Object(A.jsxs)(m.a,{xs:5,children:[this.props.cards.length<=0&&Object(A.jsx)(V,{addCardAction:this.props.addCardAction}),Object(A.jsx)(T,{cards:this.props.cards,amountActions:this.props.amountActions,addCardAction:this.props.addCardAction}),Object(A.jsx)(B,{addCardAction:this.props.addCardAction}),this.props.cards.length>0&&Object(A.jsx)(R,{optionActions:this.props.optionActions})]}),Object(A.jsx)(m.a,{children:Object(A.jsx)(L,{cards:this.props.cards})})]})})}}]),n}(a.a.Component),q=J,G=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsx)("div",{className:"App",children:"Under construction..."})}}]),n}(a.a.Component),W=G,K=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsxs)("div",{className:"App",children:["Hi! I'm Sevas. I made this. ",Object(A.jsx)("br",{}),"Thanks to the Collective Community for keeping this game alive, this couldn't be a thing without others to serve. ",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"If you really want to show me gratidute ask me out on a date or buy me a coffee."]})}}]),n}(a.a.Component),Q=K,X=n(95),Y=n(96),Z=n(27),$=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(X.a,{bg:"light",expand:"lg",children:Object(A.jsxs)(w.a,{children:[Object(A.jsx)(X.a.Brand,{as:Z.b,to:"/",children:"Collective Deck"}),Object(A.jsx)(X.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(A.jsx)(X.a.Collapse,{id:"basic-navbar-nav",children:Object(A.jsxs)(Y.a,{className:"me-auto",children:[Object(A.jsx)(Y.a.Link,{as:Z.b,to:"/collective-deck/test",children:"View"}),Object(A.jsx)(Y.a.Link,{as:Z.b,to:"/collective-deck/build",children:"Build"}),Object(A.jsx)(Y.a.Link,{as:Z.b,to:"/collective-deck/analyse",children:"Analyse"}),Object(A.jsx)(Y.a.Link,{as:Z.b,to:"/collective-deck/credits",children:"Credits"})]})})]})})})}}]),n}(a.a.Component),tt=$,et=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsx)("div",{className:"App",children:"Under construction..."})}}]),n}(a.a.Component),nt=et,rt=n(36);function at(){return(at=Object(l.a)(d.a.mark((function t(e){var n,r,a,c,i,s,o,l,u,j,p,b,h,O,f;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://server.collective.gg/api/public-cards/");case 2:return t.next=4,t.sent.json();case 4:n=t.sent,r=e.split("\n"),a=[],c=0;case 8:if(!(c<r.length)){t.next=32;break}if("#"!==r[c].charAt(0)&&""!==r[c]){t.next=11;break}return t.abrupt("continue",29);case 11:if(i=parseInt(r[c].charAt(0)),s="",(o=r[c].substring(2)).endsWith(".png"))s=/(?<=\/p\/cards\/)(.*?)(?=...png)/.exec(o)[0];else if(/([a-z]|[0-9]){8}-([a-z]|[0-9]){4}-([a-z]|[0-9]){4}-([a-z]|[0-9]){4}-([a-z]|[0-9]){12}/.test(o))s=o;else{l=Object(rt.a)(n.cards);try{for(l.s();!(u=l.n()).done;)0===(j=u.value).name.localeCompare(o,void 0,{sensitivity:"base"})&&(s=/(?<=\/p\/cards\/)(.*?)(?=...png)/.exec(j.imgurl)[0])}catch(d){l.e(d)}finally{l.f()}}if(""!==s){t.next=18;break}return console.log("INPUT ERROR"),t.abrupt("return",[]);case 18:return t.next=20,fetch("https://server.collective.gg/api/card/"+s);case 20:return t.next=22,t.sent.json();case 22:p=t.sent,b="",b=Object.keys(p.externals).length>0?"-m":"-s",h="https://files.collective.gg/p/cards/"+s+b+".png",O=ct(p.card.Text.Properties,"PortraitUrl").Expression.Value,f=ct(p.card.Text.Properties,"IGOCost").Expression.Value,a.push({id:s,name:p.card.Text.Name,link:h,img:O,affinity:p.card.Text.Affinity,cost:f,amount:i});case 29:c++,t.next=8;break;case 32:return t.abrupt("return",a);case 33:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ct(t,e){for(var n=0;n<t.length;n++)if(t[n].Symbol.Name===e)return t[n];return""}var it=function(t){return at.apply(this,arguments)},st=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsx)("div",{children:"test stream"})}}]),n}(a.a.Component),ot=st,dt=function(t){Object(h.a)(n,t);var e=Object(O.a)(n);function n(){var t;return Object(p.a)(this,n),(t=e.call(this)).onDragEnd=function(e){var n=e.destination,r=e.source;if(n&&(n.droppableId!==r.droppableId||n.index!==r.index)){var a=Object(j.a)(t.state.children),c=a.splice(r.index,1),i=Object(u.a)(c,1)[0];a.splice(n.index,0,i),t.setState({children:a})}},t.addCardAction=function(){var e=Object(l.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(n);case 2:r=e.sent,t.setState({children:[].concat(Object(j.a)(t.state.children),Object(j.a)(r))});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.clearAction=function(){t.setState({children:[]})},t.sortByCostAction=function(){var e=t.state.children;e.sort((function(t,e){return parseInt(t.cost)-parseInt(e.cost)})),t.setState({children:e})},t.sortByNameAction=function(){var e=t.state.children;e.sort((function(t,e){return t.name.localeCompare(e.name,void 0,{numeric:!0})})),t.setState({children:e})},t.sortByAffinityAction=function(){var e=t.state.children;e.sort((function(t,e){return t.affinity.localeCompare(e.affinity,void 0,{numeric:!0})})),t.setState({children:e})},t.exportToTextAction=function(){var e=t.state.children,n="";e.map((function(t){return n+=t.amount+" "+t.link+"\n"})),navigator.clipboard.writeText(n)},t.optionActions={clear:t.clearAction,sortByCost:t.sortByCostAction,sortByName:t.sortByNameAction,sortByAffinity:t.sortByAffinityAction,exportToText:t.exportToTextAction},t.addAmountAction=function(e){var n=t.state.children;n[e].amount>=3||(n[e].amount++,t.setState({children:n}))},t.removeAmountAction=function(e){var n=t.state.children;n[e].amount<=1?n.splice(e,1):n[e].amount--,t.setState({children:n})},t.amountActions={add:t.addAmountAction,remove:t.removeAmountAction},t.state={children:[]},t}return Object(b.a)(n,[{key:"render",value:function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)(tt,{}),Object(A.jsx)(y.a,{onDragEnd:this.onDragEnd,children:Object(A.jsxs)(f.c,{children:[Object(A.jsx)(f.a,{path:"/collective-deck/",element:Object(A.jsx)(q,{cards:this.state.children,amountActions:this.amountActions,optionActions:this.optionActions,addCardAction:this.addCardAction})}),Object(A.jsx)(f.a,{path:"/collective-deck/build",element:Object(A.jsx)(nt,{})}),Object(A.jsx)(f.a,{path:"/collective-deck/analyse",element:Object(A.jsx)(W,{})}),Object(A.jsx)(f.a,{path:"/collective-deck/stream",element:Object(A.jsx)(ot,{})}),Object(A.jsx)(f.a,{path:"/collective-deck/credits",element:Object(A.jsx)(Q,{})})]})})]})}}]),n}(a.a.Component),lt=dt;n(83);i.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(Z.a,{children:Object(A.jsx)(lt,{})})}),document.getElementById("root")),s()}},[[84,1,2]]]);
//# sourceMappingURL=main.19616c7c.chunk.js.map